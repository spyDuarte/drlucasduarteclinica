import{c as P,r as o,j as e,X as S,h as E,i as I,k as T,l as D,e as V,I as U,T as $,d as L,m as B,U as R,n as A,C as _,o as z,p as G,L as q,F as H}from"./index-CxNf9r1m.js";import{C as K,a as O}from"./chevron-right-H-2LbPLi.js";import{U as X}from"./user-plus-DeFaLDPg.js";import{U as F,P as J}from"./user-DrzSjkWO.js";import{M as Q}from"./mail-Bs68lz97.js";import{P as W}from"./pen-Ce29pNZ1.js";const Y=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],Z=P("chevrons-left",Y);const ee=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],ae=P("chevrons-right",ee);const se=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],M=P("trash-2",se);function te({patient:l,onClose:c,onSave:N,isLoading:f=!1}){const[a,i]=o.useState({nome:l?.nome||"",cpf:l?.cpf||"",dataNascimento:l?.dataNascimento||"",sexo:l?.sexo||"M",telefone:l?.telefone||"",email:l?.email||"",logradouro:l?.endereco?.logradouro||"",numero:l?.endereco?.numero||"",complemento:l?.endereco?.complemento||"",bairro:l?.endereco?.bairro||"",cidade:l?.endereco?.cidade||"",estado:l?.endereco?.estado||"",cep:l?.endereco?.cep||"",convenioNome:l?.convenio?.nome||"",convenioNumero:l?.convenio?.numero||"",convenioValidade:l?.convenio?.validade||"",alergias:l?.alergias?.join(", ")||"",medicamentosEmUso:l?.medicamentosEmUso?.join(", ")||"",historicoFamiliar:l?.historicoFamiliar||"",observacoes:l?.observacoes||""}),[n,j]=o.useState({}),g=()=>{const s={};return a.nome.trim()||(s.nome="Nome é obrigatório"),a.cpf.trim()?D(a.cpf)||(s.cpf="CPF inválido"):s.cpf="CPF é obrigatório",a.dataNascimento||(s.dataNascimento="Data de nascimento é obrigatória"),a.telefone.trim()||(s.telefone="Telefone é obrigatório"),j(s),Object.keys(s).length===0},x=s=>{const d=E(s);i({...a,cpf:d}),n.cpf&&j({...n,cpf:void 0})},u=s=>{const d=I(s);i({...a,telefone:d}),n.telefone&&j({...n,telefone:void 0})},h=s=>{const d=T(s);i({...a,cep:d})},b=s=>{if(s.preventDefault(),!g())return;const d={nome:a.nome,cpf:a.cpf,dataNascimento:a.dataNascimento,sexo:a.sexo,telefone:a.telefone,email:a.email||void 0,endereco:{logradouro:a.logradouro,numero:a.numero,complemento:a.complemento||void 0,bairro:a.bairro,cidade:a.cidade,estado:a.estado,cep:a.cep},alergias:a.alergias?a.alergias.split(",").map(p=>p.trim()):void 0,medicamentosEmUso:a.medicamentosEmUso?a.medicamentosEmUso.split(",").map(p=>p.trim()):void 0,historicoFamiliar:a.historicoFamiliar||void 0,observacoes:a.observacoes||void 0};a.convenioNome&&(d.convenio={nome:a.convenioNome,numero:a.convenioNumero,validade:a.convenioValidade}),N(d)},v=s=>`input-field ${s?"border-red-500 focus:ring-red-500":""}`;return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{id:"modal-title",className:"text-xl font-semibold text-gray-900",children:l?"Editar Paciente":"Novo Paciente"}),e.jsx("button",{onClick:c,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg","aria-label":"Fechar modal",children:e.jsx(S,{className:"w-5 h-5","aria-hidden":"true"})})]}),e.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Dados Pessoais"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"nome",className:"block text-sm text-gray-600 mb-1",children:"Nome completo *"}),e.jsx("input",{id:"nome",type:"text",value:a.nome,onChange:s=>{i({...a,nome:s.target.value}),n.nome&&j({...n,nome:void 0})},className:v(n.nome),"aria-invalid":!!n.nome,"aria-describedby":n.nome?"nome-error":void 0}),n.nome&&e.jsx("p",{id:"nome-error",className:"mt-1 text-sm text-red-600",children:n.nome})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"cpf",className:"block text-sm text-gray-600 mb-1",children:"CPF *"}),e.jsx("input",{id:"cpf",type:"text",value:a.cpf,onChange:s=>x(s.target.value),className:v(n.cpf),placeholder:"000.000.000-00",maxLength:14,"aria-invalid":!!n.cpf,"aria-describedby":n.cpf?"cpf-error":void 0}),n.cpf&&e.jsx("p",{id:"cpf-error",className:"mt-1 text-sm text-red-600",children:n.cpf})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"dataNascimento",className:"block text-sm text-gray-600 mb-1",children:"Data de nascimento *"}),e.jsx("input",{id:"dataNascimento",type:"date",value:a.dataNascimento,onChange:s=>{i({...a,dataNascimento:s.target.value}),n.dataNascimento&&j({...n,dataNascimento:void 0})},className:v(n.dataNascimento),"aria-invalid":!!n.dataNascimento,"aria-describedby":n.dataNascimento?"data-error":void 0}),n.dataNascimento&&e.jsx("p",{id:"data-error",className:"mt-1 text-sm text-red-600",children:n.dataNascimento})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sexo",className:"block text-sm text-gray-600 mb-1",children:"Sexo *"}),e.jsxs("select",{id:"sexo",value:a.sexo,onChange:s=>i({...a,sexo:s.target.value}),className:"input-field",children:[e.jsx("option",{value:"M",children:"Masculino"}),e.jsx("option",{value:"F",children:"Feminino"}),e.jsx("option",{value:"O",children:"Outro"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"telefone",className:"block text-sm text-gray-600 mb-1",children:"Telefone *"}),e.jsx("input",{id:"telefone",type:"tel",value:a.telefone,onChange:s=>u(s.target.value),className:v(n.telefone),placeholder:"(00) 00000-0000",maxLength:15,"aria-invalid":!!n.telefone,"aria-describedby":n.telefone?"telefone-error":void 0}),n.telefone&&e.jsx("p",{id:"telefone-error",className:"mt-1 text-sm text-red-600",children:n.telefone})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm text-gray-600 mb-1",children:"Email"}),e.jsx("input",{id:"email",type:"email",value:a.email,onChange:s=>i({...a,email:s.target.value}),className:"input-field"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Endereço"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"logradouro",className:"block text-sm text-gray-600 mb-1",children:"Logradouro"}),e.jsx("input",{id:"logradouro",type:"text",value:a.logradouro,onChange:s=>i({...a,logradouro:s.target.value}),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"numero",className:"block text-sm text-gray-600 mb-1",children:"Número"}),e.jsx("input",{id:"numero",type:"text",value:a.numero,onChange:s=>i({...a,numero:s.target.value}),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"complemento",className:"block text-sm text-gray-600 mb-1",children:"Complemento"}),e.jsx("input",{id:"complemento",type:"text",value:a.complemento,onChange:s=>i({...a,complemento:s.target.value}),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bairro",className:"block text-sm text-gray-600 mb-1",children:"Bairro"}),e.jsx("input",{id:"bairro",type:"text",value:a.bairro,onChange:s=>i({...a,bairro:s.target.value}),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"cidade",className:"block text-sm text-gray-600 mb-1",children:"Cidade"}),e.jsx("input",{id:"cidade",type:"text",value:a.cidade,onChange:s=>i({...a,cidade:s.target.value}),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"estado",className:"block text-sm text-gray-600 mb-1",children:"Estado"}),e.jsx("input",{id:"estado",type:"text",value:a.estado,onChange:s=>i({...a,estado:s.target.value}),className:"input-field",maxLength:2})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"cep",className:"block text-sm text-gray-600 mb-1",children:"CEP"}),e.jsx("input",{id:"cep",type:"text",value:a.cep,onChange:s=>h(s.target.value),className:"input-field",placeholder:"00000-000",maxLength:9})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Convênio (opcional)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"convenioNome",className:"block text-sm text-gray-600 mb-1",children:"Nome do convênio"}),e.jsx("input",{id:"convenioNome",type:"text",value:a.convenioNome,onChange:s=>i({...a,convenioNome:s.target.value}),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"convenioNumero",className:"block text-sm text-gray-600 mb-1",children:"Número da carteira"}),e.jsx("input",{id:"convenioNumero",type:"text",value:a.convenioNumero,onChange:s=>i({...a,convenioNumero:s.target.value}),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"convenioValidade",className:"block text-sm text-gray-600 mb-1",children:"Validade"}),e.jsx("input",{id:"convenioValidade",type:"date",value:a.convenioValidade,onChange:s=>i({...a,convenioValidade:s.target.value}),className:"input-field"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Histórico Médico"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"alergias",className:"block text-sm text-gray-600 mb-1",children:"Alergias (separadas por vírgula)"}),e.jsx("input",{id:"alergias",type:"text",value:a.alergias,onChange:s=>i({...a,alergias:s.target.value}),className:"input-field",placeholder:"Ex: Dipirona, Penicilina"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"medicamentos",className:"block text-sm text-gray-600 mb-1",children:"Medicamentos em uso"}),e.jsx("input",{id:"medicamentos",type:"text",value:a.medicamentosEmUso,onChange:s=>i({...a,medicamentosEmUso:s.target.value}),className:"input-field",placeholder:"Ex: Losartana 50mg, Metformina 850mg"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"historicoFamiliar",className:"block text-sm text-gray-600 mb-1",children:"Histórico familiar"}),e.jsx("textarea",{id:"historicoFamiliar",value:a.historicoFamiliar,onChange:s=>i({...a,historicoFamiliar:s.target.value}),className:"input-field",rows:2})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"observacoes",className:"block text-sm text-gray-600 mb-1",children:"Observações"}),e.jsx("textarea",{id:"observacoes",value:a.observacoes,onChange:s=>i({...a,observacoes:s.target.value}),className:"input-field",rows:2})]})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:c,className:"btn-secondary",disabled:f,children:"Cancelar"}),e.jsx("button",{type:"submit",className:"btn-primary",disabled:f,children:f?"Salvando...":l?"Salvar alterações":"Cadastrar paciente"})]})]})]})})}const le={danger:{icon:M,iconBg:"bg-red-100",iconColor:"text-red-600",buttonClass:"btn-danger shadow-lg shadow-red-500/20"},warning:{icon:$,iconBg:"bg-amber-100",iconColor:"text-amber-600",buttonClass:"bg-amber-600 hover:bg-amber-700 text-white shadow-lg shadow-amber-500/20"},info:{icon:U,iconBg:"bg-blue-100",iconColor:"text-blue-600",buttonClass:"btn-primary shadow-lg shadow-sky-500/20"},success:{icon:V,iconBg:"bg-emerald-100",iconColor:"text-emerald-600",buttonClass:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-lg shadow-emerald-500/20"}};function ne({isOpen:l,onClose:c,onConfirm:N,title:f,message:a,confirmLabel:i="Confirmar",cancelLabel:n="Cancelar",variant:j="danger",isLoading:g=!1}){const x=o.useRef(null),u=o.useRef(null),h=le[j],b=h.icon;if(o.useEffect(()=>{if(!l)return;u.current?.focus();const d=p=>{if(p.key==="Escape"&&!g&&c(),p.key==="Tab"&&x.current){const t=x.current.querySelectorAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])'),y=t[0],m=t[t.length-1];p.shiftKey&&document.activeElement===y?(p.preventDefault(),m?.focus()):!p.shiftKey&&document.activeElement===m&&(p.preventDefault(),y?.focus())}};return document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)},[l,c,g]),o.useEffect(()=>(l?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[l]),!l)return null;const v=d=>{d.target===d.currentTarget&&!g&&c()},s=()=>{g||N()};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in",onClick:v,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:e.jsxs("div",{ref:x,className:"bg-white rounded-2xl p-6 max-w-sm w-full mx-4 shadow-2xl animate-scale-in",children:[e.jsx("div",{className:`w-14 h-14 mx-auto mb-4 ${h.iconBg} rounded-2xl flex items-center justify-center`,children:e.jsx(b,{className:`w-7 h-7 ${h.iconColor}`,"aria-hidden":"true"})}),e.jsx("h3",{id:"confirm-dialog-title",className:"text-lg font-bold text-gray-900 mb-2 text-center",children:f}),e.jsx("div",{id:"confirm-dialog-description",className:"text-gray-500 text-center mb-6",children:typeof a=="string"?e.jsx("p",{children:a}):a}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{ref:u,onClick:c,disabled:g,className:"flex-1 btn-secondary py-2.5 disabled:opacity-50 disabled:cursor-not-allowed",children:n}),e.jsx("button",{onClick:s,disabled:g,className:`flex-1 py-2.5 rounded-xl font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed ${h.buttonClass}`,children:g?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Aguarde..."]}):i})]})]})})}function ie({currentPage:l,totalPages:c,totalItems:N,startIndex:f,endIndex:a,onPageChange:i,onFirstPage:n,onLastPage:j,onNextPage:g,onPreviousPage:x,canGoNext:u,canGoPrevious:h,itemsPerPage:b,onItemsPerPageChange:v,itemsPerPageOptions:s=[10,20,50,100],showItemsPerPage:d=!0}){const p=()=>{const t=[];if(c<=5)for(let m=1;m<=c;m++)t.push(m);else if(l<=3){for(let m=1;m<=4;m++)t.push(m);t.push("ellipsis"),t.push(c)}else if(l>=c-2){t.push(1),t.push("ellipsis");for(let m=c-3;m<=c;m++)t.push(m)}else{t.push(1),t.push("ellipsis");for(let m=l-1;m<=l+1;m++)t.push(m);t.push("ellipsis"),t.push(c)}return t};return N===0?null:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 py-3 bg-white border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("span",{children:["Mostrando ",e.jsx("span",{className:"font-medium text-gray-900",children:f})," a"," ",e.jsx("span",{className:"font-medium text-gray-900",children:a})," de"," ",e.jsx("span",{className:"font-medium text-gray-900",children:N})," itens"]}),d&&v&&b&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{htmlFor:"items-per-page",className:"text-gray-500",children:"Itens por página:"}),e.jsx("select",{id:"items-per-page",value:b,onChange:t=>v(Number(t.target.value)),className:"px-2 py-1 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 outline-none",children:s.map(t=>e.jsx("option",{value:t,children:t},t))})]})]}),e.jsxs("nav",{className:"flex items-center gap-1","aria-label":"Paginação",children:[e.jsx("button",{onClick:n,disabled:!h,className:"pagination-btn","aria-label":"Ir para primeira página",title:"Primeira página",children:e.jsx(Z,{className:"w-4 h-4","aria-hidden":"true"})}),e.jsx("button",{onClick:x,disabled:!h,className:"pagination-btn","aria-label":"Ir para página anterior",title:"Página anterior",children:e.jsx(K,{className:"w-4 h-4","aria-hidden":"true"})}),e.jsx("div",{className:"hidden sm:flex items-center gap-1",children:p().map((t,y)=>t==="ellipsis"?e.jsx("span",{className:"px-2 py-1 text-gray-400","aria-hidden":"true",children:"..."},`ellipsis-${y}`):e.jsx("button",{onClick:()=>i(t),className:`pagination-btn ${t===l?"bg-sky-500 text-white hover:bg-sky-600 shadow-sm":""}`,"aria-label":`Ir para página ${t}`,"aria-current":t===l?"page":void 0,children:t},t))}),e.jsxs("span",{className:"sm:hidden px-3 py-1 text-sm text-gray-600",children:[l," / ",c]}),e.jsx("button",{onClick:g,disabled:!u,className:"pagination-btn","aria-label":"Ir para próxima página",title:"Próxima página",children:e.jsx(O,{className:"w-4 h-4","aria-hidden":"true"})}),e.jsx("button",{onClick:j,disabled:!u,className:"pagination-btn","aria-label":"Ir para última página",title:"Última página",children:e.jsx(ae,{className:"w-4 h-4","aria-hidden":"true"})})]})]})}function re(l,c=300){const[N,f]=o.useState(l);return o.useEffect(()=>{const a=setTimeout(()=>{f(l)},c);return()=>{clearTimeout(a)}},[l,c]),N}function oe(l,c={}){const{initialPage:N=1,initialItemsPerPage:f=10}=c,[a,i]=o.useState(N),[n,j]=o.useState(f),g=l.length,x=Math.max(1,Math.ceil(g/n)),u=o.useMemo(()=>a<1?1:a>x?x:a,[a,x]),h=(u-1)*n,b=Math.min(h+n,g),v=o.useMemo(()=>l.slice(h,b),[l,h,b]),s=o.useCallback(r=>{const C=Math.max(1,Math.min(r,x));i(C)},[x]),d=o.useCallback(r=>{j(r),i(1)},[]),p=o.useCallback(()=>{s(u+1)},[s,u]),t=o.useCallback(()=>{s(u-1)},[s,u]),y=o.useCallback(()=>{s(1)},[s]),m=o.useCallback(()=>{s(x)},[s,x]),w=u<x,k=u>1;return{currentPage:u,itemsPerPage:n,totalPages:x,totalItems:g,paginatedItems:v,setPage:s,setItemsPerPage:d,nextPage:p,previousPage:t,firstPage:y,lastPage:m,canGoNext:w,canGoPrevious:k,startIndex:h+1,endIndex:b}}function ge(){const{patients:l,addPatient:c,updatePatient:N,deletePatient:f}=L(),{showToast:a}=B(),[i,n]=o.useState(""),[j,g]=o.useState(!1),[x,u]=o.useState(null),[h,b]=o.useState(null),[v,s]=o.useState(!1),d=re(i,300),p=o.useMemo(()=>{const r=d.toLowerCase();return l.filter(C=>C.nome.toLowerCase().includes(r)||C.cpf.includes(d)||C.telefone.includes(d))},[l,d]),t=oe(p,{initialPage:1,initialItemsPerPage:10}),y=r=>{u(r||null),g(!0)},m=()=>{g(!1),u(null)},w=r=>{s(!0);try{x?(N(x.id,r),a("Paciente atualizado com sucesso!","success")):(c(r),a("Paciente cadastrado com sucesso!","success")),m()}catch{a("Erro ao salvar paciente","error")}finally{s(!1)}},k=()=>{h&&(f(h.id),b(null),a("Paciente excluído com sucesso!","success"))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-sky-500 to-sky-600 rounded-2xl flex items-center justify-center shadow-lg shadow-sky-500/20",children:e.jsx(R,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pacientes"}),e.jsxs("p",{className:"text-gray-500 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),l.length," pacientes cadastrados"]})]})]}),e.jsxs("button",{onClick:()=>y(),className:"btn-primary flex items-center gap-2 shadow-lg shadow-sky-500/20 hover:shadow-xl hover:shadow-sky-500/30 transition-all group",children:[e.jsx(X,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),"Novo Paciente"]})]}),e.jsxs("div",{className:"relative max-w-lg input-icon-wrapper group",children:[e.jsx(A,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 transition-colors duration-200 group-focus-within:text-sky-500"}),e.jsx("input",{type:"text",value:i,onChange:r=>n(r.target.value),placeholder:"Buscar por nome, CPF ou telefone...",className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all duration-200 text-sm shadow-sm"})]}),e.jsxs("div",{className:"card p-0 overflow-hidden shadow-lg",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-50/50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"table-header",children:"Paciente"}),e.jsx("th",{className:"table-header",children:"Contato"}),e.jsx("th",{className:"table-header",children:"Nascimento"}),e.jsx("th",{className:"table-header",children:"Convênio"}),e.jsx("th",{className:"table-header text-right",children:"Ações"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:t.paginatedItems.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:5,className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-gray-100 rounded-2xl flex items-center justify-center",children:e.jsx(F,{className:"w-8 h-8 empty-state-icon"})}),e.jsx("p",{className:"text-gray-600 font-medium",children:i?"Nenhum paciente encontrado":"Nenhum paciente cadastrado"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:i?"Tente uma busca diferente":"Cadastre seu primeiro paciente"})]})}):t.paginatedItems.map(r=>e.jsxs("tr",{className:"hover:bg-sky-50/50 transition-colors group",children:[e.jsx("td",{className:"table-cell",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-11 h-11 bg-gradient-to-br from-sky-100 to-sky-50 rounded-xl flex items-center justify-center group-hover:from-sky-200 group-hover:to-sky-100 transition-all shadow-sm",children:e.jsx(F,{className:"w-5 h-5 text-sky-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 group-hover:text-sky-700 transition-colors",children:r.nome}),e.jsx("p",{className:"text-sm text-gray-500",children:E(r.cpf)})]})]})}),e.jsx("td",{className:"table-cell",children:e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("p",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"w-6 h-6 bg-emerald-50 rounded-lg flex items-center justify-center",children:e.jsx(J,{className:"w-3.5 h-3.5 text-emerald-600"})}),e.jsx("span",{className:"font-medium",children:I(r.telefone)})]}),r.email&&e.jsxs("p",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx("span",{className:"w-6 h-6 bg-blue-50 rounded-lg flex items-center justify-center",children:e.jsx(Q,{className:"w-3.5 h-3.5 text-blue-600"})}),r.email]})]})}),e.jsx("td",{className:"table-cell",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-7 h-7 bg-purple-50 rounded-lg flex items-center justify-center",children:e.jsx(_,{className:"w-4 h-4 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:z(r.dataNascimento)}),e.jsxs("span",{className:"text-gray-400 ml-1",children:["(",G(r.dataNascimento)," anos)"]})]})]})}),e.jsx("td",{className:"table-cell",children:r.convenio?e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-emerald-50 text-emerald-700 rounded-lg text-sm font-medium",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),r.convenio.nome]}):e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-gray-100 text-gray-500 rounded-lg text-sm font-medium",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"}),"Particular"]})}),e.jsx("td",{className:"table-cell text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx(q,{to:`/pacientes/${r.id}`,className:"table-action-icon",title:"Ver prontuário","aria-label":`Ver prontuário de ${r.nome}`,children:e.jsx(H,{className:"w-5 h-5","aria-hidden":"true"})}),e.jsx("button",{onClick:()=>y(r),className:"table-action-icon",title:"Editar","aria-label":`Editar paciente ${r.nome}`,children:e.jsx(W,{className:"w-5 h-5","aria-hidden":"true"})}),e.jsx("button",{onClick:()=>b(r),className:"table-action-icon danger",title:"Excluir","aria-label":`Excluir paciente ${r.nome}`,children:e.jsx(M,{className:"w-5 h-5","aria-hidden":"true"})})]})})]},r.id))})]}),t.totalItems>0&&e.jsx(ie,{currentPage:t.currentPage,totalPages:t.totalPages,totalItems:t.totalItems,startIndex:t.startIndex,endIndex:t.endIndex,onPageChange:t.setPage,onFirstPage:t.firstPage,onLastPage:t.lastPage,onNextPage:t.nextPage,onPreviousPage:t.previousPage,canGoNext:t.canGoNext,canGoPrevious:t.canGoPrevious,itemsPerPage:t.itemsPerPage,onItemsPerPageChange:t.setItemsPerPage})]}),j&&e.jsx(te,{patient:x,onClose:m,onSave:w,isLoading:v}),e.jsx(ne,{isOpen:!!h,onClose:()=>b(null),onConfirm:k,title:"Confirmar exclusão",message:h?e.jsxs(e.Fragment,{children:["Tem certeza que deseja excluir o paciente"," ",e.jsx("strong",{children:h.nome}),"? Esta ação não pode ser desfeita."]}):"",confirmLabel:"Excluir",cancelLabel:"Cancelar",variant:"danger"})]})}export{ge as default};
